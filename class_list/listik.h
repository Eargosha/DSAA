/// Autor: Eargosha

#include <iostream>
#include <sstream>

using namespace std;

/// @brief –ö–ª–∞—Å—Å–∏–∫ Nodule –µ—Å—Ç—å —É–∑–µ–ª–æ–∫ –¥–≤—É—Å–≤—è–∑–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞
/// @tparam Type —Ç–∏–ø —É–∑–ª–∞
template <typename Type>
class Nodule
{
public:
    /// –î–∞–Ω–Ω—ã–µ, —Å—Ç–æ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —É–∑–µ–ª–∫–µ
    Type data;
    /// –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–π —É–∑–µ–ª –≤ —Å–ø–∏—Å–∫–µ
    Nodule<Type> *prev;
    /// –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —É–∑–µ–ª –≤ —Å–ø–∏—Å–∫–µ
    Nodule<Type> *next;

    /// –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã —Å–æ–∑–¥–∞–Ω—ã –º–µ—Ç–æ–¥–æ–º –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —á–ª–µ–Ω–æ–≤ –∫–ª–∞—Å—Å–∞ —á–µ—Ä–µ–∑ —Å–ø–∏—Å–æ–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –≤ C++

    /// @brief –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é(–ø—É—Å—Ç–µ–Ω—å–∫–æ)
    Nodule() : prev(nullptr), next(nullptr), data(Type())
    {
    }

    /// @brief –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Å –¥–∞–Ω–Ω—ã–º–∏ –∏ –æ–±–µ–∏–º–∏ —É–∫–∞–∑–∞—Ç–µ–ª—è–º–∏
    /// @param data_ - –¥–∞–Ω–Ω—ã–µ —É–∑–ª–∞
    /// @param prev_ - —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–π —É–∑–µ–ª
    /// @param next_ - —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —É–∑–µ–ª
    Nodule(const Type &data_, Nodule<Type> *prev_, Nodule<Type> *next_)
        : data(data_), prev(prev_), next(next_)
    {
    }

    /// @brief –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Ç–æ–ª—å–∫–æ —Å –¥–∞–Ω–Ω—ã–º–∏, —É–∫–∞–∑–∞—Ç–µ–ª–∏ prev –∏ next —Å–º–æ—Ç—Ä—è—Ç –≤ null
    /// @param data_ - –¥–∞–Ω–Ω—ã–µ —É–∑–ª–∞
    Nodule(const Type &data_) : data(data_), prev(nullptr), next(nullptr)
    {
    }

    /// @brief –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
    Nodule(const Nodule<Type> &other)
        : data(other.data), prev(nullptr), next(nullptr) // –ø–æ–∫–∞ —á—Ç–æ nullptr
    {
        if (other.prev != nullptr)
        {
            // –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ —É–∫–∞–∑–∞—Ç–µ–ª—å, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ö–æ—Ç–∏–º –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å, –∞ –Ω–µ –ø–∞–ª—å—Ü–µ–º —Ç—ã–∫–∞—Ç—å!
            prev = new Nodule(other.prev->data);
        }
        if (other.next != nullptr)
        {
            // –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ —É–∫–∞–∑–∞—Ç–µ–ª—å, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ö–æ—Ç–∏–º –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å, –∞ –Ω–µ –ø–∞–ª—å—Ü–µ–º —Ç—ã–∫–∞—Ç—å!
            next = new Nodule(other.next->data);
        }
    }

    /// @brief –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è
    /// @param other –¢–æ, —á—Ç–æ –ø–µ—Ä–µ–º–µ—â–∞–µ–º
    Nodule(Nodule<Type> &&other)
        : data(other.data), prev(other.prev), next(other.next) // –ø–µ—Ä–µ–º–µ—â–∞–µ–º —É–∫–∞–∑–∞—Ç–µ–ª–∏ –Ω–∞ –ø—Ä–µ–¥ –∏ —Å–ª–µ–¥ —É–∑–µ–ª–∫–∏
    {
        // —á–∏—Å—Ç–∏–º —á–∏—Å—Ç–∏–º —á–∏—Å—Ç–∏–º
        other.prev = nullptr;
        other.next = nullptr;
    }

    /// @brief –û–ø–µ—Ä–∞—Ç–æ—Ä –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
    /// @param other –¢–æ, —á—Ç–æ –∫–æ–ø–∏—Ä—É–µ–º
    Nodule<Type> &operator=(const Nodule<Type> &other)
    {
        if (this != &other) // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–∞–º–æ–ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ
        {
            // –Ω–µ –¥–∞–µ–º –ø–∞–º—è—Ç–∏ —Ç–µ—á—å, –æ–Ω–∞ –Ω–µ –∂–∏–∂–∞
            delete prev;
            delete next;

            // –∫–æ–ø–∏—Ä—É–µ–º –≤—Å–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
            data = other.data;
            if (other.prev != nullptr)
            {
                // –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ —É–∫–∞–∑–∞—Ç–µ–ª—å, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ö–æ—Ç–∏–º –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å, –∞ –Ω–µ –ø–∞–ª—å—Ü–µ–º —Ç—ã–∫–∞—Ç—å!
                prev = new Nodule(other.prev->data);
            }
            if (other.next != nullptr)
            {
                // –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ —É–∫–∞–∑–∞—Ç–µ–ª—å, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ö–æ—Ç–∏–º –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å, –∞ –Ω–µ –ø–∞–ª—å—Ü–µ–º —Ç—ã–∫–∞—Ç—å!
                next = new Nodule(other.next->data);
            }
        }
        return *this;
    }

    /// @brief –û–ø–µ—Ä–∞—Ç–æ—Ä –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è
    Nodule<Type> &operator=(Nodule<Type> &&other)
    {
        if (this != &other) // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–∞–º–æ–ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ
        {
            data = other.data;
            prev = other.prev;
            next = other.next;

            other.prev = nullptr;
            other.next = nullptr;
        }
        return *this;
    }

    /// @brief –î–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä
    ~Nodule()
    {
        /// –£–¥–∞–ª—è–µ–º —É–∫–∞–∑–∞—Ç–µ–ª–∏ –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–π –∏ —Å–ª–µ–¥—É—é—â–∏–π —É–∑–ª—ã
        if (prev != nullptr && next != nullptr)
        {
            prev = nullptr;
            next = nullptr;
        }
    }
};

/*              Done:
    -–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã –ø—Ä–∞–≤–∏–ª–∞ 5
    -–ú–µ—Ç–æ–¥—ã: copy(–≥–ª—É–±–æ–∫–æ), to_string, get_nodule

    -–ü–æ–∏—Å–∫ —ç–ª–µ–º–µ–Ω—Ç–∞ = find = average O(n)
    -–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Å–ø–∏—Å–∫–∞ = sort = average O(n)
    -–û—á–∏—Å—Ç–∫–∞ —Å–ø–∏—Å–∫–∞ = clearSpisok = average O(n)

    -–í—Å—Ç–∞–≤–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–∏–∫–∞ –≤ –Ω–∞—á–∞–ª–æ = addFront = average O(1)
    -–í—Å—Ç–∞–≤–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–∏–∫–∞ –≤ —Å–µ—Ä–µ–¥–∏–Ω–∫—É = addInList = average O(n)
    -–í—Å—Ç–∞–≤–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–∏–∫–∞ –≤ –∫–æ–Ω–µ—Ü = addBack = average O(n)

    -–£–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∏–∫–∞ –≤ –Ω–∞—á–∞–ª–µ = deleteFront = average O(1)
    -–£–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∏–∫–∞ –≤ —Å–µ—Ä–µ–¥–∏–Ω–∫–µ = deleteInList = average O(n)
    -–£–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∏–∫–∞ –≤ –∫–æ–Ω—Ü–µ = deleteBack = average O(n)

    -–ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ = length = average O(n)


                TO DO:
    -–û–±—å–µ–¥–∏–Ω–µ–Ω–∏–µ —Å–ø–∏—Å–∫–æ–≤ (–∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è) = concatinateLists = average O(1 || n??)
*/

/// @brief –ö–ª–∞—Å—Å DoublyLinkedList –µ—Å—Ç—å –¥–≤—É—Å–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫
/// @tparam Type —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö –¥–≤—É—Å–≤—è–∑–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞
template <typename Type>
class DoublyLinkedList
{
private:
    // –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –≥–æ–ª–æ–≤–∫—É —Å–ø–∏—Å–∫–∞
    Nodule<Type> *head;
    // –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Ö–≤–æ—Å—Ç–∏–∫ —Å–ø–∏—Å–∫–∞
    Nodule<Type> *tail;
    // –†–∞–∑–º–µ—Ä—á–∏–∫ —Å–ø–∏—Å–∫–∞
    size_t size;

public:
    //////////////////////////////////////////5 –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤ –∏ —Ç–∞–º –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –µ—Å—Ç—å/////////////////////////////////////

    /// @brief –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –ø—É—Å—Ç–µ–Ω—å–∫–∏–π
    DoublyLinkedList()
    {
        head = nullptr;
        tail = nullptr;
        size = 0;
    }

    /// @brief –°–æ–∑–¥–∞–µ—Ç –∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Å–ø–∏—Å–æ–∫ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ value
    /// @param n –†–∞–∑–º–µ—Ä —Å–ø–∏—Å–∫–∞
    /// @param value –¢–æ, —á–µ–º –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å–ø–∏—Å–æ–∫
    DoublyLinkedList(size_t n, const Type &value)
    {
        for (size_t i = 0; i < n; i++)
        {
            addBack(value);
        }
    }

    /// @brief –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
    /// @param other –¢–æ, —á—Ç–æ –∫–æ–ø–∏—Ä—É–µ–º
    DoublyLinkedList(const DoublyLinkedList &other)
    {
        head = nullptr;
        tail = nullptr;
        size = 0;
        // –ö–æ–ø–∏—Ä—É–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –∏–∑ –¥—Ä—É–≥–æ–≥–æ —Å–ø–∏—Å–∫–∞.
        copy(other);
    }

    /// @brief –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è
    /// @param other –¢–æ, —á—Ç–æ –ø–µ—Ä–µ–º–µ—â–∞–º, —Å–æ–±—Å—Ç–Ω–∞
    DoublyLinkedList(DoublyLinkedList &&other)
    {
        // –ü–µ—Ä–µ–º–µ—â–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –∏–∑ –¥—Ä—É–≥–æ–≥–æ —Å–ø–∏—Å–∫–∞.
        head = other.head;
        tail = other.tail;
        size = other.size;
        other.forget();
    }

    /// @brief –û–ø–µ—Ä–∞—Ç–æ—Ä –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è, –Ω–æ –∫–æ–ø–∏—Ä—É–µ—Ç
    /// @param other –ß—Ç–æ –∫–æ–ø–∏—Ä—É–µ—Ç
    /// @return –°–æ–∫–ø–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ
    DoublyLinkedList &operator=(const DoublyLinkedList &other)
    {
        if (this == &other)
        {
            return *this;
        }

        // –û—á–∏—â–∞–µ–º —Ç–µ–∫—É—â–∏–π —Å–ø–∏—Å–æ–∫.
        clearSpisok();

        // –ö–æ–ø–∏—Ä—É–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –∏–∑ –¥—Ä—É–≥–æ–≥–æ —Å–ø–∏—Å–∫–∞.
        copy(other);

        return *this;
    }

    /// @brief –û–ø–µ—Ä–∞—Ç–æ—Ä –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è, –Ω–æ –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç
    /// @param other –ß—Ç–æ –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç
    /// @return –ü–µ—Ä–µ–º–µ—â–µ–Ω–Ω–æ–µ
    DoublyLinkedList &operator=(DoublyLinkedList &&other)
    {
        if (this == &other)
        {
            return *this;
        }

        // –û—á–∏—â–∞–µ–º —Ç–µ–∫—É—â–∏–π —Å–ø–∏—Å–æ–∫.
        clearSpisok();

        // –ü–µ—Ä–µ–º–µ—â–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –∏–∑ –¥—Ä—É–≥–æ–≥–æ —Å–ø–∏—Å–∫–∞.
        head = other.head;
        tail = other.tail;
        size = other.size;

        other.forget();

        return *this;
    }

    /// @brief –î–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä
    ~DoublyLinkedList()
    {
        // –ß–∏—Å—Ç–∏–º —á–∏—Å—Ç–∏–º —á–∏—Å—Ç–∏–º!
        clearSpisok();
    }

    //////////////////////////////////////////–ë–µ–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏–∏–∏–∏–∏–∏–∏–∏–∏–∏–∏/////////////////////////////////////

    /// @brief –ì–ª—É–±–æ–∫–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞
    /// @param other –¢–æ, —á—Ç–æ –∫–æ–ø–∏—Ä—É–µ–º
    void copy(const DoublyLinkedList<Type> &other)
    {
        // –ú–µ—Å—Ç–æ –æ—Å–≤–æ–±–æ–¥–∏–º —Å –ø—Ä–æ—Ö–æ–¥–∞, –∞ —Ç–æ –∑–∞—Å—Ç—Ä—è–Ω–µ—Ç
        clearSpisok();

        // –ò—Ç–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —É–∑–µ–ª–æ—á–µ–∫
        Nodule<Type> *current = other.head;
        while (current != nullptr)
        {
            push_back(current->data);
            current = current->next;
        }
    }

    /// @brief –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–∞–∑–º–µ—Ä —Å–ø–∏—Å–∫–∞
    /// @return –†–∞–∑–º–µ—Ä —Å–ø–∏—Å–∫–∞
    size_t length() const
    {
        return size;
    }

    /// @brief –í—ã–≤–æ–¥–∏—Ç —Å–ø–∏—Å–æ–∫ –≤ —Å—Ç—Ä–æ–∫—É
    /// @return –°—Ç—Ä–æ–∫—É —Å —Å–ø–∏—Å–∫–æ–º –≤–∏–¥–∞
    string to_string() const
    {
        // –°–æ–∑–¥–∞–µ–º —Å—Ç—Ä–æ–∫–æ–≤—ã–π –ø–æ—Ç–æ–∫, –∫—É–¥–∞ –±—É–¥–µ–º –ª–æ–∂–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–ø–∏—Å–∫–∞
        stringstream spisok_stroka;
        // –ù—É –∫–∞–∫ –≤ –ø–∏—Ç–æ–Ω–µ —Å–¥–µ–ª–∞—é –Ω–∞—á–∞–ª–æ
        spisok_stroka << "[";

        // –°–æ–∑–¥–∞–¥–∏–º —É–∑–µ–ª–æ—á–µ–∫, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≤–µ—Ä—Ç–µ—Ç—å —Ç—É–¥–∞ —Å—é–¥–∞ –∏ –ø–µ—Ä–µ–¥–∞–¥–∏–º –≤ –Ω–µ–≥–æ –≥–æ–ª–æ–≤—É —Å–ø–∏—Å–∫–∞
        Nodule<Type> *current = head;
        // –ü–æ–∫–∞ —Å–ø–∏—Å–æ–∫ –Ω–µ –∫–æ–Ω—á–∏—Ç—Å—è, –±–ª–∏–Ω, –≤—Å–µ –∫–æ–≥–¥–∞-–Ω–∏–±—É–¥—å –∫–æ–Ω—á–∞—é—Ç—Å—è, –¥–∞–∂–µ —Å–ø–∏—Å–∫–∏...
        while (current != nullptr)
        {
            // –ù–æ –Ω–µ –±—É–¥–µ–º –ø–µ—á–∞–ª–∏—Ç—å—Å—è –∏ –Ω–∞—á–Ω–µ–º –≤—ã–≤–æ–¥–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é!
            spisok_stroka << current->data;
            // –ê –∑–∞—Ç–µ–º —Å–º–æ—Ç—Ä–µ—Ç—å, –µ—Å–ª–∏ –¥–∞–ª—å—à–µ –µ—Å—Ç—å –æ–±—å–µ–∫—Ç, —Ç–æ –≤—ã–≤–æ–¥–∏—Ç—å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å, —á—Ç–æ–±—ã –≤—Å–µ –±—ã–ª–æ –∫—Ä–∞—Å–∏–≤–æ!!!
            if (current->next != nullptr)
            {
                spisok_stroka << " ";
            }
            // –ê —Ç—É—Ç –º—ã –ø—Ä–∏–≤–æ–¥–∏–º –Ω–∞—à —Å–ø–∏—Å–æ–∫ –∫ –∫–æ–Ω—Ü—É –µ–≥–æ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è peppeDispaire
            current = current->next;
        }

        // –ù—É –∫–∞–∫ –≤ –ø–∏—Ç–æ–Ω–µ —Å–¥–µ–ª–∞—é –∫–æ–Ω–µ—Ü (—è –ø–æ—á—Ç–∏ —Ç–æ –Ω–∞–ø–∏—Å–∞–ª)
        spisok_stroka << "]";
        // –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –ø–æ—Ç–æ–∫ –±—É–∫–∞–≤–∞–∫ –≤ —Å—Ç—Ä–æ–∫—É
        return spisok_stroka.str();
    }

    /// @brief –í–æ–∑—Ä–∞—â–∞–µ—Ç —É–∑–µ–ª–æ—á–µ–∫ –ø–æ –º–µ—Å—Ç–µ—á–∫—É –µ–≥–æ –ø—Ä–∏–±—ã–≤–∞–Ω–∏—è –≤ —Å–ø–∏—Å–∫–µ –ø–æ –ü–ú–ñ
    /// @param place –ú–µ—Å—Ç–µ—á–∫–æ, –æ—Ç–∫—É–¥–∞ —Å–º–æ—Ç—Ä–∏–º –Ω–∞ —É–∑–µ–ª–æ–∫
    /// @return –£–∑–µ–ª–æ–∫ –∫–ª–∞—Å—Å–∞ Nodule
    Nodule<Type> *get_nodule(size_t place)
    {
        // –ü—Ä–æ–≤–µ—Ä–∫–∞
        if (place < 0 || place >= size)
        {
            throw out_of_range("Invalid index");
        }

        Nodule<Type> *current = head;

        for (size_t i = 0; i < place; i++)
        {
            current = current->next;
        }
        // –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ–º –∏ –≤–æ–∑—Ä–∞—â–∞–µ–º
        return current;
    }

    /// @brief –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –º–∞—Å—Å–∏–≤–∞ –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é
    void sort()
    {
        if (size <= 1)
        {
            return;
        }

        Nodule<Type> *current = head;
        Nodule<Type> *nextNode = nullptr;

        while (current != nullptr)
        {
            nextNode = current->next;

            while (nextNode != nullptr)
            {
                if (current->data > nextNode->data)
                {
                    swap(current->data, nextNode->data);
                }

                nextNode = nextNode->next;
            }

            current = current->next;
        }
    }

    /// @brief –ù–∞—Ö–æ–¥–∏—Ç —É–∑–µ–ª–æ–∫ —Å –∑–Ω–∞—á–µ–Ω–∏–µ–º value
    /// @param value –í–æ—Ç —ç—Ç–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ–º
    /// @return –í–æ–∑—Ä–∞—â–∞–µ—Ç —É–∑–µ–ª —Å —ç—Ç–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ–º
    Nodule<Type> *find(Type value)
    {
        Nodule<Type> *current = head;
        while (current != nullptr)
        {
            if (current->data == value)
            {
                return current;
            }
            current = current->next;
        }
        return nullptr;
    }

    /// @brief –ß–∏—Å—Ç–∏–º, —á–∏—Å—Ç–∏–º —Å–ø–∏—Å–æ—á–µ–∫
    void clearSpisok()
    {
        // –£–¥–∞–ª—è–µ–º –≤—Å–µ —É–∑–ª—ã –∏–∑ —Å–ø–∏—Å–∫–∞.
        while (head != nullptr)
        {
            Nodule<Type> *nextNode = head->next;
            delete head;
            head = nextNode;
        }

        head = nullptr;
        tail = nullptr;
        size = 0;
    }

    //////////////////////////////////////////–í—Å—Ç–∞–≤–æ—á–∫–∏/////////////////////////////////////

    /// @brief –í—Å—Ç–∞–≤–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–∞ –≤ –Ω–∞—á–∞–ª–æ
    /// @param value –¢–æ, —á—Ç–æ –ø–∏—Ö–∞–µ–º
    void addFront(Type value)
    {
        // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π —É–∑–µ–ª–æ—á–µ–∫
        Nodule<Type> *newNode = new Nodule<Type>(value);
        // –ï—Å–ª–∏ —Å–ø–∏—Å–æ–∫ –ø—É—Å—Ç–µ–Ω—å–∫–∏–π, —Ç–æ –Ω–æ–≤—ã–π —É–∑–µ–ª —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —É–∑–ª–æ–º –≥–æ–ª–æ–≤—ã, —Ö–≤–æ—Å—Ç–∏–∫–∞ —Ç–∞–º –Ω–∞–ø—Ä–∏–º–µ—Ä
        if (head == nullptr)
        {
            head = tail = newNode;
        }
        // –ò–Ω–∞—á–µ, –≤–æ—Ç –æ–Ω, –¥–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π —É–∑–µ–ª –≤ –Ω–∞—á–∞–ª–æ —Å–ø–∏—Å–∫–∞
        else
        {
            newNode->next = head;
            head->prev = newNode;
            head = newNode;
        }
        // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä, –∞ —á–µ–≥–æ –Ω–µ —Å–∫–∞–∂—É ü´¢
        size++;
    }

    /// @brief –í—Å—Ç–∞–≤–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–∞ –≤ –∫–æ–Ω–µ—Ü
    /// @param value –¢–æ, —á—Ç–æ –≤—Å—Ç–∞–≤–ª—è–µ–º
    void addBack(Type value)
    {
        // –°–æ–∑–¥–∞–µ–º —Ç–æ, —á—Ç–æ –±—É–¥–µ–º –≤—Å—Ç–∞–≤–ª—è—Ç—å
        Nodule<Type> *newNode = new Nodule<Type>(value);

        // –ï—Å–ª–∏ —Å–ø–∏—Å–æ–∫ –ø—É—Å—Ç–æ–π, —Ç–æ –Ω–æ–≤—ã–π —É–∑–µ–ª —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≥–æ–ª–æ–≤–æ–π –∏ —Ö–≤–æ—Å—Ç–∏–∫–æ–º
        if (tail == nullptr)
        {
            head = tail = newNode;
        }
        else
        // –ò–Ω–∞—á–µ! –¥–æ–±–∞–≤–ª—è–µ–º –µ–≥–æ –≤ –∫–æ–Ω–µ—Ü —Å–ø–∏—Å–∫–∞ –∫–∞–∫ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–ª–∏
        {
            newNode->prev = tail;
            tail->next = newNode;
            tail = newNode;
        }
        size++;
    }

    /// @brief –í—Å—Ç–∞–≤–∏—Ç –≤–∞—à –Ω–æ–≤—ã–π —É–∑–µ–ª, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π value, –ø–æ—Å–ª–µ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —É–∑–ª–∞ node, –º–æ–∂–µ–æ —Å—á–∏—Ç–∞—Ç—å –≤—Å—Ç–∞–≤–∫–æ–π –≤ —Å–µ—Ä–µ–¥–∏–Ω–æ—á–∫—É
    /// @param value –¢–æ, —á—Ç–æ –≤—Å—Ç–∞–≤–∏—Ç—å –Ω–∞–¥–∞
    /// @param node –ü–æ—Å–ª–µ —á–µ–≥–æ –≤—Å—Ç–∞–≤–∏—Ç—å –Ω–∞–¥–∞
    void addInList(Type value, Nodule<Type> *node)
    {
        // –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω–Ω—ã–π —É–∑–µ–ª–æ–∫ —Ä–∞–≤–µ–Ω nullptr, –∫–∏–¥–∞–µ–º –µ–≥–æ –≤ –∫–æ–Ω–µ—Ü —Å–ø–∏—Å–∫–∞, –∞ —Ç–æ —á–µ —ç—Ç–æ –æ–Ω
        if (node == nullptr)
        {
            addBack(value);
            return;
        }

        // –°–æ–∑–¥–∞–µ–º —Ç–æ—Ç —É–∑–µ–ª, –Ω–∞–¥ –∫–æ—Ç–æ—Ä—ã–º —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã —Å—Ç–∞–≤–∏—Ç—å –±—É–¥–µ–º
        Nodule<Type> *newNode = new Nodule<Type>(value);

        // –í—Å—Ç–∞–≤–ª—è–µ–º —É–∑–µ–ª–æ–∫ –ø–æ—Å–ª–µ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ
        newNode->next = node->next;
        if (node->next != nullptr)
        {
            node->next->prev = newNode;
        }
        else
        {
            tail = newNode;
        }
        node->next = newNode;
        newNode->prev = node;

        // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä —Å–ø–∏—Å–∫–∞.
        size++;
    }

    //////////////////////////////////////////–£–¥–∞–ª–µ–Ω—å–∏—Ü–∞/////////////////////////////////////

    /// @brief –£–¥–∞–ª—è–µ—Ç —É–∑–µ–ª —Å–ø–∏—Å–∫–∞ —Å –µ–≥–æ –Ω–∞—á–∞–ª–∞, –≤–æ—Ç —Ç–∞–∫ –≤–æ—Ç, –±–µ–∑ —Ü–µ—Ä–µ–º–æ–Ω–∏–π
    void deleteFront()
    {
        // –ï—Å–ª–∏ —Å–ø–∏—Å–æ–∫ –ø—É—Å—Ç, —Ç–æ –∫–∏–¥–∞–µ–º –æ—à–∏–±–∫—É
        if (head == nullptr)
        {
            throw out_of_range("List is empty!");
            return;
        }

        // –ë–µ—Ä–µ–≥–∏ –≥–æ–ª–æ–≤—É, –¥–∞ –¥–∞
        Nodule<Type> *temp = head;

        // –ú–µ–Ω—è–µ–º –≥–æ–ª–æ–≤—É, —ç—Ö, –∫–∞–∫–æ–π –∂–µ —Å–ø–∏—Å–æ–∫ –±—ã–ª —Ä–∞–Ω—å—à–µ...
        head = head->next;
        // –ù—É –∏ —Ç—É—Ç –∫–µ–π—Å—ã –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ–º
        if (head != nullptr)
        {
            head->prev = nullptr;
        }
        else
        {
            tail = nullptr;
        }
        delete temp;
        size--;
    }

    /// @brief –£–¥–∞–ª—è–µ—Ç —É–∑–µ–ª node –∏–∑ —Å–ø–∏—Å–∫–∞ –≤–∞—à–µ–≥–æ, –∫–Ω—è–∂–µ
    /// @param node –¢–æ, —á—Ç–æ –∏—Å—Ç—Ä–µ–±–∏—Ç—å –Ω–∞–¥–æ
    void deleteInList(Nodule<Type> *node)
    {
        // –ù–µ—á–µ–≥–æ —É–¥–∞–ª—è—Ç—å, —Ç—ã —á–µ —Ç–≤–æ—Ä–∏—à—å?!
        if (head == nullptr)
        {
            throw out_of_range("List is empty!");
            return;
        }

        // –°–º–æ—Ç—Ä–∏–º, –µ—Å–ª–∏ –≥–æ–ª–æ–≤–∫–∞, —É–¥–∞–ª—è–µ–º –≥–æ–ª–æ–≤–∫—É
        if (node == head)
        {
            this->deleteFront();
        }
        // –°–º–æ—Ç—Ä–∏–º, –µ—Å–ª–∏ —Ö–≤–æ—Å—Ç–∏–∫, —É–¥–∞–ª—è–µ–º —Ö–≤–æ—Å—Ç–∏–∫
        else if (node == tail)
        {
            this->deleteBack();
        }
        else
        {
            // –ò–Ω–∞—á–µ —É–¥–∞–ª—è–µ–º —É–∫–∞–∑–∞–Ω–Ω—ã–π —É–∑–µ–ª –∏–∑ —Å–µ—Ä–µ–¥–∏–Ω—ã —Å–ø–∏—Å–∫–∞.
            node->prev->next = node->next;
            node->next->prev = node->prev;
        }

        // –£–º–µ–Ω—å—à–∞–µ–º, –∞ —Ç–æ –±–æ–ª—å—à–æ–π —Å–ª–∏—à–∫–æ–º
        size--;
    }

    /// @brief –£–¥–∞–ª—è–µ—Ç —É–∑–µ–ª —Å–ø–∏—Å–∫–∞ —Å –µ–≥–æ –∫–æ–Ω—Ü–∞, –≤–æ—Ç —Ç–∞–∫ –≤–æ—Ç, –±–µ–∑ —Ü–µ—Ä–µ–º–æ–Ω–∏–π
    void deleteBack()
    {
        // –ï—Å–ª–∏ —Å–ø–∏—Å–æ—á–µ–∫ –ø—É—Å—Ç–µ–Ω—å–∫–∏–π, –∫—Ä–∏—á–∏–º –≥—Ä–æ–º–∫–æ –æ—à–∏–±–∫–æ–π
        if (tail == nullptr)
        {
            throw out_of_range("List is empty!");
            return;
        }

        // –•–≤–æ—Å—Ç–∏–∫ –≤—Ä–µ–º–µ–Ω–Ω–æ –∑–∞–ø–æ–º–∏–Ω–∞–µ–º
        Nodule<Type> *temp = tail;

        // –ú–µ–Ω—è–µ–º —Ö–≤–æ—Å—Ç–∏–∫, —ç—Ö, –∫–∞–∫–æ–π –∂–µ —Å–ø–∏—Å–æ–∫ –±—ã–ª —Ä–∞–Ω—å—à–µ...
        tail = tail->prev;
        // –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ–º –∫–µ–π—Å—ã
        if (tail != nullptr)
        {
            tail->next = nullptr;
        }
        else
        {
            head = nullptr;
        }
        delete temp;
        size--;
    }
};